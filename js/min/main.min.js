"use strict";function _typeof(t){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fadeInPage(){if(window.AnimationEvent){document.querySelector("main").classList.add("fade-out")}}!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"===("undefined"==typeof exports?"undefined":_typeof(exports))?require("jquery"):jQuery)}(function(t){function e(t,e){return t.toFixed(e.decimals)}var o=function e(o,n){this.$element=t(o),this.options=t.extend({},e.DEFAULTS,this.dataOptions(),n),this.init()};o.DEFAULTS={from:0,to:0,speed:1e3,refreshInterval:100,decimals:0,formatter:e,onUpdate:null,onComplete:null},o.prototype.init=function(){this.value=this.options.from,this.loops=Math.ceil(this.options.speed/this.options.refreshInterval),this.loopCount=0,this.increment=(this.options.to-this.options.from)/this.loops},o.prototype.dataOptions=function(){var t={from:this.$element.data("from"),to:this.$element.data("to"),speed:this.$element.data("speed"),refreshInterval:this.$element.data("refresh-interval"),decimals:this.$element.data("decimals")},e=Object.keys(t);for(var o in e){var n=e[o];void 0===t[n]&&delete t[n]}return t},o.prototype.update=function(){this.value+=this.increment,this.loopCount++,this.render(),"function"==typeof this.options.onUpdate&&this.options.onUpdate.call(this.$element,this.value),this.loopCount>=this.loops&&(clearInterval(this.interval),this.value=this.options.to,"function"==typeof this.options.onComplete&&this.options.onComplete.call(this.$element,this.value))},o.prototype.render=function(){var t=this.options.formatter.call(this.$element,this.value,this.options);this.$element.text(t)},o.prototype.restart=function(){this.stop(),this.init(),this.start()},o.prototype.start=function(){this.stop(),this.render(),this.interval=setInterval(this.update.bind(this),this.options.refreshInterval)},o.prototype.stop=function(){this.interval&&clearInterval(this.interval)},o.prototype.toggle=function(){this.interval?this.stop():this.start()},t.fn.countTo=function(e){return this.each(function(){var n=t(this),i=n.data("countTo"),r=!i||"object"===_typeof(e),a="object"===_typeof(e)?e:{},s="string"==typeof e?e:"start";r&&(i&&i.stop(),n.data("countTo",i=new o(this,a))),i[s].call(i)})}}),function(t,e,o,n){var i=t(e);t.fn.lazyload=function(r){function a(){var e=0;l.each(function(){var o=t(this);if(!f.skip_invisible||o.is(":visible"))if(t.abovethetop(this,f)||t.leftofbegin(this,f));else if(t.belowthefold(this,f)||t.rightoffold(this,f)){if(++e>f.failure_limit)return!1}else o.trigger("appear"),e=0})}var s,l=this,f={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:e,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return r&&(n!==r.failurelimit&&(r.failure_limit=r.failurelimit,delete r.failurelimit),n!==r.effectspeed&&(r.effect_speed=r.effectspeed,delete r.effectspeed),t.extend(f,r)),s=f.container===n||f.container===e?i:t(f.container),0===f.event.indexOf("scroll")&&s.bind(f.event,function(){return a()}),this.each(function(){var e=this,o=t(e);e.loaded=!1,(o.attr("src")===n||!1===o.attr("src"))&&o.is("img")&&o.attr("src",f.placeholder),o.one("appear",function(){if(!this.loaded){if(f.appear){var n=l.length;f.appear.call(e,n,f)}t("<img />").bind("load",function(){var n=o.attr("data-"+f.data_attribute);o.hide(),o.is("img")?o.attr("src",n):o.css("background-image","url('"+n+"')"),o[f.effect](f.effect_speed),e.loaded=!0;var i=t.grep(l,function(t){return!t.loaded});if(l=t(i),f.load){var r=l.length;f.load.call(e,r,f)}}).attr("src",o.attr("data-"+f.data_attribute))}}),0!==f.event.indexOf("scroll")&&o.bind(f.event,function(){e.loaded||o.trigger("appear")})}),i.bind("resize",function(){a()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&i.bind("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&l.each(function(){t(this).trigger("appear")})}),t(o).ready(function(){a()}),this},t.belowthefold=function(o,r){return(r.container===n||r.container===e?(e.innerHeight?e.innerHeight:i.height())+i.scrollTop():t(r.container).offset().top+t(r.container).height())<=t(o).offset().top-r.threshold},t.rightoffold=function(o,r){return(r.container===n||r.container===e?i.width()+i.scrollLeft():t(r.container).offset().left+t(r.container).width())<=t(o).offset().left-r.threshold},t.abovethetop=function(o,r){return(r.container===n||r.container===e?i.scrollTop():t(r.container).offset().top)>=t(o).offset().top+r.threshold+t(o).height()},t.leftofbegin=function(o,r){return(r.container===n||r.container===e?i.scrollLeft():t(r.container).offset().left)>=t(o).offset().left+r.threshold+t(o).width()},t.inviewport=function(e,o){return!(t.rightoffold(e,o)||t.leftofbegin(e,o)||t.belowthefold(e,o)||t.abovethetop(e,o))},t.extend(t.expr[":"],{"below-the-fold":function(e){return t.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return t.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!t.rightoffold(e,{threshold:0})},"in-viewport":function(e){return t.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return t.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!t.rightoffold(e,{threshold:0})}})}(jQuery,window,document),$(".js-hamburger").click(function(){$("body").toggleClass("is-open"),$("body").toggleClass("no-scroll")}),$(".navigation__drop-btn > span").click(function(){$(window).width()<992&&$(this).parent().toggleClass("drop-is-open")}),$(window).bind("load",function(){$(".navigation__list li a").click(function(){$("body").hasClass("is-open no-scroll")&&$(".js-hamburger").click()})}),document.addEventListener("DOMContentLoaded",function(){if(window.AnimationEvent){var t=document.querySelectorAll(".navigation__list a, .cd-about a");console.log(t),t.forEach(function(t){t.addEventListener("click",function(t){fadeInPage();var e=document.querySelector("main"),o=t.currentTarget,n=function t(){window.location=o.href,e.removeEventListener("animationend",t)};e.addEventListener("animationend",n),t.preventDefault()})})}}),window.addEventListener("pageshow",function(t){if(t.persisted){document.querySelector("main").classList.remove("fade-in")}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZmFkZUluUGFnZSIsIndpbmRvdyIsIkFuaW1hdGlvbkV2ZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2xhc3NMaXN0IiwiYWRkIiwiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsImV4cG9ydHMiLCJfdHlwZW9mIiwicmVxdWlyZSIsImpRdWVyeSIsIiQiLCJmb3JtYXR0ZXIiLCJ2YWx1ZSIsIm9wdGlvbnMiLCJ0b0ZpeGVkIiwiZGVjaW1hbHMiLCJDb3VudFRvIiwiZWxlbWVudCIsInRoaXMiLCIkZWxlbWVudCIsImV4dGVuZCIsIkRFRkFVTFRTIiwiZGF0YU9wdGlvbnMiLCJpbml0IiwiZnJvbSIsInRvIiwic3BlZWQiLCJyZWZyZXNoSW50ZXJ2YWwiLCJvblVwZGF0ZSIsIm9uQ29tcGxldGUiLCJwcm90b3R5cGUiLCJsb29wcyIsIk1hdGgiLCJjZWlsIiwibG9vcENvdW50IiwiaW5jcmVtZW50IiwiZGF0YSIsImtleXMiLCJPYmplY3QiLCJpIiwia2V5IiwidXBkYXRlIiwicmVuZGVyIiwiY2FsbCIsImNsZWFySW50ZXJ2YWwiLCJpbnRlcnZhbCIsImZvcm1hdHRlZFZhbHVlIiwidGV4dCIsInJlc3RhcnQiLCJzdG9wIiwic3RhcnQiLCJzZXRJbnRlcnZhbCIsImJpbmQiLCJ0b2dnbGUiLCJmbiIsImNvdW50VG8iLCJvcHRpb24iLCJlYWNoIiwiJHRoaXMiLCJtZXRob2QiLCJhIiwiYiIsImMiLCJkIiwiZSIsImxhenlsb2FkIiwiZiIsImciLCJqIiwic2tpcF9pbnZpc2libGUiLCJpcyIsImFib3ZldGhldG9wIiwibGVmdG9mYmVnaW4iLCJiZWxvd3RoZWZvbGQiLCJyaWdodG9mZm9sZCIsImZhaWx1cmVfbGltaXQiLCJ0cmlnZ2VyIiwiaCIsInRocmVzaG9sZCIsImV2ZW50IiwiZWZmZWN0IiwiY29udGFpbmVyIiwiZGF0YV9hdHRyaWJ1dGUiLCJhcHBlYXIiLCJsb2FkIiwicGxhY2Vob2xkZXIiLCJmYWlsdXJlbGltaXQiLCJlZmZlY3RzcGVlZCIsImVmZmVjdF9zcGVlZCIsImluZGV4T2YiLCJsb2FkZWQiLCJhdHRyIiwib25lIiwibGVuZ3RoIiwiaGlkZSIsImNzcyIsImdyZXAiLCJ0ZXN0IiwibmF2aWdhdG9yIiwiYXBwVmVyc2lvbiIsIm9yaWdpbmFsRXZlbnQiLCJwZXJzaXN0ZWQiLCJyZWFkeSIsImlubmVySGVpZ2h0IiwiaGVpZ2h0Iiwic2Nyb2xsVG9wIiwib2Zmc2V0IiwidG9wIiwid2lkdGgiLCJzY3JvbGxMZWZ0IiwibGVmdCIsImludmlld3BvcnQiLCJleHByIiwiYmVsb3ctdGhlLWZvbGQiLCJhYm92ZS10aGUtdG9wIiwicmlnaHQtb2Ytc2NyZWVuIiwibGVmdC1vZi1zY3JlZW4iLCJpbi12aWV3cG9ydCIsImFib3ZlLXRoZS1mb2xkIiwicmlnaHQtb2YtZm9sZCIsImxlZnQtb2YtZm9sZCIsImNsaWNrIiwidG9nZ2xlQ2xhc3MiLCJwYXJlbnQiLCJoYXNDbGFzcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJhbmNob3JzIiwicXVlcnlTZWxlY3RvckFsbCIsImNvbnNvbGUiLCJsb2ciLCJmb3JFYWNoIiwiZmFkZXIiLCJhbmNob3IiLCJjdXJyZW50VGFyZ2V0IiwibGlzdGVuZXIiLCJsb2NhdGlvbiIsImhyZWYiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicHJldmVudERlZmF1bHQiLCJyZW1vdmUiXSwibWFwcGluZ3MiOiJ3UkE0SkEsUUFBU0EsY0FDTCxHQUFLQyxPQUFPQyxlQUFaLENBQ1lDLFNBQVNDLGNBQWMsUUFDN0JDLFVBQVVDLElBQUksY0E5SnZCLFNBQVVDLEdBQ2Usa0JBQVhDLFNBQXlCQSxPQUFPQyxJQUV2Q0QsUUFBUSxVQUFXRCxHQUduQkEsRUFGMEIsWUFBTCxtQkFBUEcsU0FBTyxZQUFBQyxRQUFQRCxVQUVORSxRQUFRLFVBR1JDLFNBRWQsU0FBVUMsR0FrR1IsUUFBU0MsR0FBVUMsRUFBT0MsR0FDdEIsTUFBT0QsR0FBTUUsUUFBUUQsRUFBUUUsVUFsR2pDLEdBQUlD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QVUvSCxTQUFTZ0ksaUJBQWlCLG1DQUMxQ0MsU0FBUUMsSUFBSUgsR0FDWkEsRUFBUUksUUFBUyxTQUFDM0YsR0FBT0EsRUFBRXNGLGlCQUFpQixRQUFTLFNBQVM5QyxHQUMxRG5GLFlBQ0EsSUFBTXVJLEdBQVFwSSxTQUFTQyxjQUFjLFFBQ2pDb0ksRUFBU3JELEVBQU1zRCxjQUViQyxFQUFXLFFBQVhBLEtBQ0Z6SSxPQUFPMEksU0FBV0gsRUFBT0ksS0FDekJMLEVBQU1NLG9CQUFvQixlQUFnQkgsR0FHOUNILEdBQU1OLGlCQUFpQixlQUFnQlMsR0FFdkN2RCxFQUFNMkQsd0JBT2Q3SSxPQUFPZ0ksaUJBQWlCLFdBQVksU0FBVTlDLEdBQzFDLEdBQUtBLEVBQU1zQixVQUFYLENBR1l0RyxTQUFTQyxjQUFjLFFBQzdCQyxVQUFVMEksT0FBTyIsImZpbGUiOiJqcy9taW4vbWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbihmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgLy8gQU1EXG4gICAgICAgIGRlZmluZShbJ2pxdWVyeSddLCBmYWN0b3J5KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAvLyBDb21tb25KU1xuICAgICAgICBmYWN0b3J5KHJlcXVpcmUoJ2pxdWVyeScpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBCcm93c2VyIGdsb2JhbHNcbiAgICAgICAgZmFjdG9yeShqUXVlcnkpO1xuICAgIH1cbn0oZnVuY3Rpb24gKCQpIHtcbiAgICB2YXIgQ291bnRUbyA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQgPSAkKGVsZW1lbnQpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgID0gJC5leHRlbmQoe30sIENvdW50VG8uREVGQVVMVFMsIHRoaXMuZGF0YU9wdGlvbnMoKSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH07XG5cbiAgICBDb3VudFRvLkRFRkFVTFRTID0ge1xuICAgICAgICBmcm9tOiAwLCAgICAgICAgICAgICAgIC8vIHRoZSBudW1iZXIgdGhlIGVsZW1lbnQgc2hvdWxkIHN0YXJ0IGF0XG4gICAgICAgIHRvOiAwLCAgICAgICAgICAgICAgICAgLy8gdGhlIG51bWJlciB0aGUgZWxlbWVudCBzaG91bGQgZW5kIGF0XG4gICAgICAgIHNwZWVkOiAxMDAwLCAgICAgICAgICAgLy8gaG93IGxvbmcgaXQgc2hvdWxkIHRha2UgdG8gY291bnQgYmV0d2VlbiB0aGUgdGFyZ2V0IG51bWJlcnNcbiAgICAgICAgcmVmcmVzaEludGVydmFsOiAxMDAsICAvLyBob3cgb2Z0ZW4gdGhlIGVsZW1lbnQgc2hvdWxkIGJlIHVwZGF0ZWRcbiAgICAgICAgZGVjaW1hbHM6IDAsICAgICAgICAgICAvLyB0aGUgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIHRvIHNob3dcbiAgICAgICAgZm9ybWF0dGVyOiBmb3JtYXR0ZXIsICAvLyBoYW5kbGVyIGZvciBmb3JtYXR0aW5nIHRoZSB2YWx1ZSBiZWZvcmUgcmVuZGVyaW5nXG4gICAgICAgIG9uVXBkYXRlOiBudWxsLCAgICAgICAgLy8gY2FsbGJhY2sgbWV0aG9kIGZvciBldmVyeSB0aW1lIHRoZSBlbGVtZW50IGlzIHVwZGF0ZWRcbiAgICAgICAgb25Db21wbGV0ZTogbnVsbCAgICAgICAvLyBjYWxsYmFjayBtZXRob2QgZm9yIHdoZW4gdGhlIGVsZW1lbnQgZmluaXNoZXMgdXBkYXRpbmdcbiAgICB9O1xuXG4gICAgQ291bnRUby5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy52YWx1ZSAgICAgPSB0aGlzLm9wdGlvbnMuZnJvbTtcbiAgICAgICAgdGhpcy5sb29wcyAgICAgPSBNYXRoLmNlaWwodGhpcy5vcHRpb25zLnNwZWVkIC8gdGhpcy5vcHRpb25zLnJlZnJlc2hJbnRlcnZhbCk7XG4gICAgICAgIHRoaXMubG9vcENvdW50ID0gMDtcbiAgICAgICAgdGhpcy5pbmNyZW1lbnQgPSAodGhpcy5vcHRpb25zLnRvIC0gdGhpcy5vcHRpb25zLmZyb20pIC8gdGhpcy5sb29wcztcbiAgICB9O1xuXG4gICAgQ291bnRUby5wcm90b3R5cGUuZGF0YU9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgZnJvbTogICAgICAgICAgICB0aGlzLiRlbGVtZW50LmRhdGEoJ2Zyb20nKSxcbiAgICAgICAgICAgIHRvOiAgICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5kYXRhKCd0bycpLFxuICAgICAgICAgICAgc3BlZWQ6ICAgICAgICAgICB0aGlzLiRlbGVtZW50LmRhdGEoJ3NwZWVkJyksXG4gICAgICAgICAgICByZWZyZXNoSW50ZXJ2YWw6IHRoaXMuJGVsZW1lbnQuZGF0YSgncmVmcmVzaC1pbnRlcnZhbCcpLFxuICAgICAgICAgICAgZGVjaW1hbHM6ICAgICAgICB0aGlzLiRlbGVtZW50LmRhdGEoJ2RlY2ltYWxzJylcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9wdGlvbnMpO1xuXG4gICAgICAgIGZvciAodmFyIGkgaW4ga2V5cykge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Yob3B0aW9uc1trZXldKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9uc1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfTtcblxuICAgIENvdW50VG8ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy52YWx1ZSArPSB0aGlzLmluY3JlbWVudDtcbiAgICAgICAgdGhpcy5sb29wQ291bnQrKztcblxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuXG4gICAgICAgIGlmICh0eXBlb2YodGhpcy5vcHRpb25zLm9uVXBkYXRlKSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMub25VcGRhdGUuY2FsbCh0aGlzLiRlbGVtZW50LCB0aGlzLnZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmxvb3BDb3VudCA+PSB0aGlzLmxvb3BzKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMub3B0aW9ucy50bztcblxuICAgICAgICAgICAgaWYgKHR5cGVvZih0aGlzLm9wdGlvbnMub25Db21wbGV0ZSkgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkNvbXBsZXRlLmNhbGwodGhpcy4kZWxlbWVudCwgdGhpcy52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgQ291bnRUby5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZm9ybWF0dGVkVmFsdWUgPSB0aGlzLm9wdGlvbnMuZm9ybWF0dGVyLmNhbGwodGhpcy4kZWxlbWVudCwgdGhpcy52YWx1ZSwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgdGhpcy4kZWxlbWVudC50ZXh0KGZvcm1hdHRlZFZhbHVlKTtcbiAgICB9O1xuXG4gICAgQ291bnRUby5wcm90b3R5cGUucmVzdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgfTtcblxuICAgIENvdW50VG8ucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgdGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKHRoaXMudXBkYXRlLmJpbmQodGhpcyksIHRoaXMub3B0aW9ucy5yZWZyZXNoSW50ZXJ2YWwpO1xuICAgIH07XG5cbiAgICBDb3VudFRvLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5pbnRlcnZhbCkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBDb3VudFRvLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmludGVydmFsKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBmb3JtYXR0ZXIodmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLnRvRml4ZWQob3B0aW9ucy5kZWNpbWFscyk7XG4gICAgfVxuXG4gICAgJC5mbi5jb3VudFRvID0gZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKTtcbiAgICAgICAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnY291bnRUbycpO1xuICAgICAgICAgICAgdmFyIGluaXQgICAgPSAhZGF0YSB8fCB0eXBlb2Yob3B0aW9uKSA9PT0gJ29iamVjdCc7XG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZihvcHRpb24pID09PSAnb2JqZWN0JyA/IG9wdGlvbiA6IHt9O1xuICAgICAgICAgICAgdmFyIG1ldGhvZCAgPSB0eXBlb2Yob3B0aW9uKSA9PT0gJ3N0cmluZycgPyBvcHRpb24gOiAnc3RhcnQnO1xuXG4gICAgICAgICAgICBpZiAoaW5pdCkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhKSBkYXRhLnN0b3AoKTtcbiAgICAgICAgICAgICAgICAkdGhpcy5kYXRhKCdjb3VudFRvJywgZGF0YSA9IG5ldyBDb3VudFRvKHRoaXMsIG9wdGlvbnMpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGF0YVttZXRob2RdLmNhbGwoZGF0YSk7XG4gICAgICAgIH0pO1xuICAgIH07XG59KSk7XG4hZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YShiKTthLmZuLmxhenlsb2FkPWZ1bmN0aW9uKGYpe2Z1bmN0aW9uIGcoKXt2YXIgYj0wO2kuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyk7aWYoIWouc2tpcF9pbnZpc2libGV8fGMuaXMoXCI6dmlzaWJsZVwiKSlpZihhLmFib3ZldGhldG9wKHRoaXMsail8fGEubGVmdG9mYmVnaW4odGhpcyxqKSk7ZWxzZSBpZihhLmJlbG93dGhlZm9sZCh0aGlzLGopfHxhLnJpZ2h0b2Zmb2xkKHRoaXMsaikpe2lmKCsrYj5qLmZhaWx1cmVfbGltaXQpcmV0dXJuITF9ZWxzZSBjLnRyaWdnZXIoXCJhcHBlYXJcIiksYj0wfSl9dmFyIGgsaT10aGlzLGo9e3RocmVzaG9sZDowLGZhaWx1cmVfbGltaXQ6MCxldmVudDpcInNjcm9sbFwiLGVmZmVjdDpcInNob3dcIixjb250YWluZXI6YixkYXRhX2F0dHJpYnV0ZTpcIm9yaWdpbmFsXCIsc2tpcF9pbnZpc2libGU6ITAsYXBwZWFyOm51bGwsbG9hZDpudWxsLHBsYWNlaG9sZGVyOlwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFCQ0FZQUFBQWZGY1NKQUFBQUFYTlNSMElBcnM0YzZRQUFBQVJuUVUxQkFBQ3hqd3Y4WVFVQUFBQUpjRWhaY3dBQURzUUFBQTdFQVpVckRoc0FBQUFOU1VSQlZCaFhZemg4K1BCL0FBZmZBMG5OUHVDTEFBQUFBRWxGVGtTdVFtQ0NcIn07cmV0dXJuIGYmJihkIT09Zi5mYWlsdXJlbGltaXQmJihmLmZhaWx1cmVfbGltaXQ9Zi5mYWlsdXJlbGltaXQsZGVsZXRlIGYuZmFpbHVyZWxpbWl0KSxkIT09Zi5lZmZlY3RzcGVlZCYmKGYuZWZmZWN0X3NwZWVkPWYuZWZmZWN0c3BlZWQsZGVsZXRlIGYuZWZmZWN0c3BlZWQpLGEuZXh0ZW5kKGosZikpLGg9ai5jb250YWluZXI9PT1kfHxqLmNvbnRhaW5lcj09PWI/ZTphKGouY29udGFpbmVyKSwwPT09ai5ldmVudC5pbmRleE9mKFwic2Nyb2xsXCIpJiZoLmJpbmQoai5ldmVudCxmdW5jdGlvbigpe3JldHVybiBnKCl9KSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9YShiKTtiLmxvYWRlZD0hMSwoYy5hdHRyKFwic3JjXCIpPT09ZHx8Yy5hdHRyKFwic3JjXCIpPT09ITEpJiZjLmlzKFwiaW1nXCIpJiZjLmF0dHIoXCJzcmNcIixqLnBsYWNlaG9sZGVyKSxjLm9uZShcImFwcGVhclwiLGZ1bmN0aW9uKCl7aWYoIXRoaXMubG9hZGVkKXtpZihqLmFwcGVhcil7dmFyIGQ9aS5sZW5ndGg7ai5hcHBlYXIuY2FsbChiLGQsail9YShcIjxpbWcgLz5cIikuYmluZChcImxvYWRcIixmdW5jdGlvbigpe3ZhciBkPWMuYXR0cihcImRhdGEtXCIrai5kYXRhX2F0dHJpYnV0ZSk7Yy5oaWRlKCksYy5pcyhcImltZ1wiKT9jLmF0dHIoXCJzcmNcIixkKTpjLmNzcyhcImJhY2tncm91bmQtaW1hZ2VcIixcInVybCgnXCIrZCtcIicpXCIpLGNbai5lZmZlY3RdKGouZWZmZWN0X3NwZWVkKSxiLmxvYWRlZD0hMDt2YXIgZT1hLmdyZXAoaSxmdW5jdGlvbihhKXtyZXR1cm4hYS5sb2FkZWR9KTtpZihpPWEoZSksai5sb2FkKXt2YXIgZj1pLmxlbmd0aDtqLmxvYWQuY2FsbChiLGYsail9fSkuYXR0cihcInNyY1wiLGMuYXR0cihcImRhdGEtXCIrai5kYXRhX2F0dHJpYnV0ZSkpfX0pLDAhPT1qLmV2ZW50LmluZGV4T2YoXCJzY3JvbGxcIikmJmMuYmluZChqLmV2ZW50LGZ1bmN0aW9uKCl7Yi5sb2FkZWR8fGMudHJpZ2dlcihcImFwcGVhclwiKX0pfSksZS5iaW5kKFwicmVzaXplXCIsZnVuY3Rpb24oKXtnKCl9KSwvKD86aXBob25lfGlwb2R8aXBhZCkuKm9zIDUvZ2kudGVzdChuYXZpZ2F0b3IuYXBwVmVyc2lvbikmJmUuYmluZChcInBhZ2VzaG93XCIsZnVuY3Rpb24oYil7Yi5vcmlnaW5hbEV2ZW50JiZiLm9yaWdpbmFsRXZlbnQucGVyc2lzdGVkJiZpLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLnRyaWdnZXIoXCJhcHBlYXJcIil9KX0pLGEoYykucmVhZHkoZnVuY3Rpb24oKXtnKCl9KSx0aGlzfSxhLmJlbG93dGhlZm9sZD1mdW5jdGlvbihjLGYpe3ZhciBnO3JldHVybiBnPWYuY29udGFpbmVyPT09ZHx8Zi5jb250YWluZXI9PT1iPyhiLmlubmVySGVpZ2h0P2IuaW5uZXJIZWlnaHQ6ZS5oZWlnaHQoKSkrZS5zY3JvbGxUb3AoKTphKGYuY29udGFpbmVyKS5vZmZzZXQoKS50b3ArYShmLmNvbnRhaW5lcikuaGVpZ2h0KCksZzw9YShjKS5vZmZzZXQoKS50b3AtZi50aHJlc2hvbGR9LGEucmlnaHRvZmZvbGQ9ZnVuY3Rpb24oYyxmKXt2YXIgZztyZXR1cm4gZz1mLmNvbnRhaW5lcj09PWR8fGYuY29udGFpbmVyPT09Yj9lLndpZHRoKCkrZS5zY3JvbGxMZWZ0KCk6YShmLmNvbnRhaW5lcikub2Zmc2V0KCkubGVmdCthKGYuY29udGFpbmVyKS53aWR0aCgpLGc8PWEoYykub2Zmc2V0KCkubGVmdC1mLnRocmVzaG9sZH0sYS5hYm92ZXRoZXRvcD1mdW5jdGlvbihjLGYpe3ZhciBnO3JldHVybiBnPWYuY29udGFpbmVyPT09ZHx8Zi5jb250YWluZXI9PT1iP2Uuc2Nyb2xsVG9wKCk6YShmLmNvbnRhaW5lcikub2Zmc2V0KCkudG9wLGc+PWEoYykub2Zmc2V0KCkudG9wK2YudGhyZXNob2xkK2EoYykuaGVpZ2h0KCl9LGEubGVmdG9mYmVnaW49ZnVuY3Rpb24oYyxmKXt2YXIgZztyZXR1cm4gZz1mLmNvbnRhaW5lcj09PWR8fGYuY29udGFpbmVyPT09Yj9lLnNjcm9sbExlZnQoKTphKGYuY29udGFpbmVyKS5vZmZzZXQoKS5sZWZ0LGc+PWEoYykub2Zmc2V0KCkubGVmdCtmLnRocmVzaG9sZCthKGMpLndpZHRoKCl9LGEuaW52aWV3cG9ydD1mdW5jdGlvbihiLGMpe3JldHVybiEoYS5yaWdodG9mZm9sZChiLGMpfHxhLmxlZnRvZmJlZ2luKGIsYyl8fGEuYmVsb3d0aGVmb2xkKGIsYyl8fGEuYWJvdmV0aGV0b3AoYixjKSl9LGEuZXh0ZW5kKGEuZXhwcltcIjpcIl0se1wiYmVsb3ctdGhlLWZvbGRcIjpmdW5jdGlvbihiKXtyZXR1cm4gYS5iZWxvd3RoZWZvbGQoYix7dGhyZXNob2xkOjB9KX0sXCJhYm92ZS10aGUtdG9wXCI6ZnVuY3Rpb24oYil7cmV0dXJuIWEuYmVsb3d0aGVmb2xkKGIse3RocmVzaG9sZDowfSl9LFwicmlnaHQtb2Ytc2NyZWVuXCI6ZnVuY3Rpb24oYil7cmV0dXJuIGEucmlnaHRvZmZvbGQoYix7dGhyZXNob2xkOjB9KX0sXCJsZWZ0LW9mLXNjcmVlblwiOmZ1bmN0aW9uKGIpe3JldHVybiFhLnJpZ2h0b2Zmb2xkKGIse3RocmVzaG9sZDowfSl9LFwiaW4tdmlld3BvcnRcIjpmdW5jdGlvbihiKXtyZXR1cm4gYS5pbnZpZXdwb3J0KGIse3RocmVzaG9sZDowfSl9LFwiYWJvdmUtdGhlLWZvbGRcIjpmdW5jdGlvbihiKXtyZXR1cm4hYS5iZWxvd3RoZWZvbGQoYix7dGhyZXNob2xkOjB9KX0sXCJyaWdodC1vZi1mb2xkXCI6ZnVuY3Rpb24oYil7cmV0dXJuIGEucmlnaHRvZmZvbGQoYix7dGhyZXNob2xkOjB9KX0sXCJsZWZ0LW9mLWZvbGRcIjpmdW5jdGlvbihiKXtyZXR1cm4hYS5yaWdodG9mZm9sZChiLHt0aHJlc2hvbGQ6MH0pfX0pfShqUXVlcnksd2luZG93LGRvY3VtZW50KTtcbiQoJy5qcy1oYW1idXJnZXInKS5jbGljaygoKSA9PiB7XG4gICAgJCgnYm9keScpLnRvZ2dsZUNsYXNzKCdpcy1vcGVuJyk7XG4gICAgJCgnYm9keScpLnRvZ2dsZUNsYXNzKCduby1zY3JvbGwnKTtcbn0pO1xuXG5cbiQoJy5uYXZpZ2F0aW9uX19kcm9wLWJ0biA+IHNwYW4nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgaWYoJCh3aW5kb3cpLndpZHRoKCkgPCA5OTIpe1xuICAgICAgICAkKHRoaXMpLnBhcmVudCgpLnRvZ2dsZUNsYXNzKCdkcm9wLWlzLW9wZW4nKTtcbiAgICB9XG59KTtcblxuJCh3aW5kb3cpLmJpbmQoJ2xvYWQnLCBmdW5jdGlvbigpIHtcbiAgICAkKCcubmF2aWdhdGlvbl9fbGlzdCBsaSBhJykuY2xpY2soZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgaWYoICQoICdib2R5JyApLmhhc0NsYXNzKCAnaXMtb3BlbiBuby1zY3JvbGwnICkgKSB7XG4gICAgICAgICAgICAkKCcuanMtaGFtYnVyZ2VyJykuY2xpY2soKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5cblxuXG5cbmZ1bmN0aW9uIGZhZGVJblBhZ2UoKSB7XG4gICAgaWYgKCF3aW5kb3cuQW5pbWF0aW9uRXZlbnQpIHsgcmV0dXJuOyB9XG4gICAgdmFyIGZhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbicpO1xuICAgIGZhZGVyLmNsYXNzTGlzdC5hZGQoJ2ZhZGUtb3V0Jyk7XG59XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpIHtcbiAgICBpZiAoIXdpbmRvdy5BbmltYXRpb25FdmVudCkgeyByZXR1cm47IH1cbiAgICBjb25zdCBhbmNob3JzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdmlnYXRpb25fX2xpc3QgYSwgLmNkLWFib3V0IGEnKTtcbiAgICBjb25zb2xlLmxvZyhhbmNob3JzKTtcbiAgICBhbmNob3JzLmZvckVhY2goIChpKSA9PiB7aS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGZhZGVJblBhZ2UoKTtcbiAgICAgICAgY29uc3QgZmFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtYWluJyksXG4gICAgICAgICAgICBhbmNob3IgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgXG4gICAgICAgIGNvbnN0IGxpc3RlbmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSBhbmNob3IuaHJlZjtcbiAgICAgICAgICAgIGZhZGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIGxpc3RlbmVyKTtcbiAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICBmYWRlci5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICBcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIFxuICAgIH0pO1xuICAgIH0pO1xufSk7XG5cblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BhZ2VzaG93JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKCFldmVudC5wZXJzaXN0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZmFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtYWluJyk7XG4gICAgZmFkZXIuY2xhc3NMaXN0LnJlbW92ZSgnZmFkZS1pbicpO1xufSk7Il19
